(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(175)},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(55),l=a.n(s),c=a(8),o=a(40),i=(a(126),a(127),a(99)),m=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return localStorage.getItem("auth-token")?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},u=a(84),d=a(101),p=a(4),h=a(102);function E(){var e=Object(d.a)(["\n    display: block;\n    margin: 100px auto;\n    text-align: center;\n    width: 100px;\n    height: 4px;\n"]);return E=function(){return e},e}var f=Object(p.css)(E()),g=function(e){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(h.BarLoader,{css:f,sizeUnit:"px",size:60,color:"#cce5ff",loading:e.loading}))},b=a(36),v=a.n(b),N=function(e){var t=e.username,a=e.email,n=e.password;return v.a.post("/user/register",{username:t,email:a,password:n})},y=function(e){var t=e.email,a=e.password;return v.a.post("/user/login",{email:t,password:a})},x=function(){return localStorage.getItem("auth-token")},w=function(e){localStorage.setItem("auth-token",e)},j=function(){localStorage.removeItem("auth-token"),window.location="/"},O=function(){if(x())return v.a.get("/user/getuser",{headers:{"auth-token":x()}})},S=function(e){if(x())return v.a.post("/exercises/add",e,{headers:{"auth-token":x()}})},k=function(e,t){if(x())return v.a.post("/exercises/update/"+e,t,{headers:{"auth-token":x()}})},C=function(e){if(x())return v.a.delete("/exercises/"+e,{headers:{"auth-token":x()}})},D=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(!0),o=Object(u.a)(l,2),i=o[0],m=o[1];return Object(n.useEffect)(function(){x()&&(O().then(function(e){return s(e.data.user.username)}).catch(function(e){return console.log(e.response.data)}),setTimeout(function(){m(!1)},1e3))},[]),x()&&i?r.a.createElement(g,{loading:i}):r.a.createElement("div",{className:"jumbotron rounded-0 text-center"},x()?r.a.createElement("p",{className:"lead"},"Welcome back to your ExcerTracker"," ",r.a.createElement("span",{className:"text-info"},a),"."):r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4"},"Welcome to ExcerTracker App."),r.a.createElement("p",{className:"lead"},"ExcerTracker is an application that help you to manage all your exercises."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{className:"lead"},"Please ",r.a.createElement("strong",null,"register")," to start using ExcerTracker, or ",r.a.createElement("strong",null,"login")," if you already have an account."),r.a.createElement("div",{className:"btn-group btn-group-lg",role:"group","aria-label":"Basic example"},r.a.createElement(c.b,{type:"button",className:"btn btn-primary",to:"/register"},"REGISTER"),r.a.createElement(c.b,{type:"button",className:"btn btn-primary",to:"/login"},"LOGIN")),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{className:""},"You can use the following dummy data to"," ",r.a.createElement("strong",null,"login")," and run/test the app:",r.a.createElement("br",null)," Email: ",r.a.createElement("u",null,"dummyuser@hotmail.com"),", Password:"," ",r.a.createElement("u",null,"dummyuser"),". Or you can use your personal data to"," ",r.a.createElement("strong",null,"register"),".")))},I=a(12),T=a(13),P=a(15),L=a(14),M=a(16),_=a(27),F=a.n(_),U=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).onUsernameChange=function(e){a.setState({username:e.target.value})},a.onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),N({username:a.state.username,email:a.state.email,password:a.state.password}).then(function(e){a.setState({username:"",email:"",password:"",userId:e.data.userId})}).catch(function(e){F.a.alert(e.response.data)})},a.state={username:"",email:"",password:"",userId:null},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return this.state.userId?r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4 text-center text-uppercase my-5"},"Please"," ",r.a.createElement(c.b,{to:"/login",className:"text-decoration-none"},"login")," ","to access the exercise app.")):r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header info-color white-text text-center py-4"},r.a.createElement("strong",{className:"display-4"},"Register")),r.a.createElement("div",{className:"card-body px-lg-5 pt-0"},r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"text-center p-5"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",{className:"lead text-left"},"Fill in the following to create an account.")),r.a.createElement("div",{className:"col-12"},r.a.createElement("input",{type:"text",placeholder:"Username",name:"username",className:"form-control mb-4",value:this.state.username,onChange:this.onUsernameChange})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"form-control mb-4",value:this.state.email,onChange:this.onEmailChange}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"form-control mb-4",value:this.state.password,onChange:this.onPasswordChange}))),r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block my-4"},"Create new account"))))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).welcomeMessage=function(){O().then(function(e){a.setState({username:e.data.user.username})}).catch(function(e){j(),console.log(e.response.data)})},a.onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),y({email:a.state.email,password:a.state.password}).then(function(e){w(e.data),a.setState({email:"",password:""}),a.props.history.push("/list")}).catch(function(e){F.a.alert(e.response.data)})},a.state={email:"",password:"",accessToken:null,username:"",loading:!0},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;x()&&(this.setState({accessToken:x()}),this.welcomeMessage()),setTimeout(function(){e.setState({loading:!1})},1e3)}},{key:"render",value:function(){return this.state.accessToken?this.state.loading?r.a.createElement(g,{loading:this.state.loading}):r.a.createElement("div",null,r.a.createElement("p",null,"Welcome ",r.a.createElement("strong",null,this.state.username))):r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header info-color white-text text-center py-4"},r.a.createElement("strong",{className:"display-4"},"Login")),r.a.createElement("div",{className:"card-body px-lg-5 pt-0"},r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"text-center p-5"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",{className:"lead text-left"},"If you already have an account with ExcerTracker, please login with your email address and password.")),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"form-control mb-4",value:this.state.email,onChange:this.onEmailChange}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"form-control mb-4",value:this.state.password,onChange:this.onPasswordChange}))),r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block my-4"},"Accesss ExcerTracker"))))))}}]),t}(n.Component),z=Object(o.f)(A),R=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(P.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).onFormSubmit=function(e){e.preventDefault(),j()},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-light alert alert-secondary navbar-expand-lg rounded-0 mb-0 px-0 text-center"},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"col-12"},r.a.createElement(c.b,{to:"/",className:"navbar-brand m-0"},r.a.createElement("h1",null,"ExcerTracker"))),r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"collpase navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav justify-content-center w-100"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(c.b,{to:"/list",className:"nav-link text-uppercase lead"},"All Exercises")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(c.b,{to:"/create",className:"nav-link text-uppercase lead"},"Create Exercise")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(c.b,{to:"/profile",className:"nav-link text-uppercase lead"},"User Profile"))),r.a.createElement("form",{onSubmit:this.onFormSubmit,className:null===x()?"d-none form-inline my-2 my-lg-0":"d-block form-inline my-2 my-lg-0"},r.a.createElement("button",{className:"btn btn-danger rounded-0",type:"submit"},"Logout"))))))}}]),t}(n.Component),B=Object(o.f)(R),W=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.exercise.description),r.a.createElement("td",null,e.exercise.duration," min."),r.a.createElement("td",null,e.exercise.date.substring(0,10)),r.a.createElement("td",null,r.a.createElement(c.b,{to:"/edit/"+e.exercise._id,className:"text-info"},"Edit")," ","|"," ",r.a.createElement("a",{href:"#/",className:"text-danger",onClick:function(){e.deleteExercise(e.exercise._id)}},"Delete")))},q=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).deleteExercise=function(e){F.a.confirm({size:"small",message:"Remove selected exercise?",callback:function(t){t&&C(e).then(function(t){a.setState({exercises:a.state.exercises.filter(function(t){return t._id!==e})}),console.log(t.data)}).catch(function(e){return console.log(e.response.data)})}})},a.exerciseList=function(){return a.state.exercises.map(function(e){return e.userId===a.state.userId?r.a.createElement(W,{exercise:e,deleteExercise:a.deleteExercise,key:e._id}):null})},a.state={userId:"",exercises:[],loading:!0},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){if(x())return v.a.get("/exercises/",{headers:{"auth-token":x()}})})().then(function(t){e.setState({exercises:t.data})}).catch(function(e){console.log(e.response.data)}),O().then(function(t){return e.setState({userId:t.data.user._id})}).catch(function(e){return console.log(e)}),setTimeout(function(){e.setState({loading:!1})},1e3)}},{key:"render",value:function(){return x()&&this.state.loading?r.a.createElement(g,{loading:this.state.loading}):r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4 my-3"},"Logged Exercises"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Duration"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.exerciseList())))}}]),t}(n.Component),G=a(57),J=(a(98),function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).onChangeDescription=function(e){a.setState({description:e.target.value})},a.onChangeDuration=function(e){a.setState({duration:e.target.value})},a.onChangeDate=function(e){a.setState({date:e})},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,description:a.state.description,duration:a.state.duration,date:a.state.date};k(a.props.match.params.id,t).then(function(e){F.a.alert({size:"small",title:e.data,message:a.state.description,callback:function(){a.props.history.push("/list")}})})},a.state={username:"",description:"",duration:0,date:new Date,loading:!0},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){if(x())return v.a.get("/exercises/"+e,{headers:{"auth-token":x()}})})(this.props.match.params.id).then(function(t){e.setState({username:t.data.username,description:t.data.description,duration:t.data.duration,date:new Date(t.data.date)})}).catch(function(e){return console.log(e.response.data)}),setTimeout(function(){e.setState({loading:!1})},1e3)}},{key:"render",value:function(){return x()&&this.state.loading?r.a.createElement(g,{loading:this.state.loading}):r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4 my-3"},"Edit Selected Exercise"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duration (in minutes): "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.duration,onChange:this.onChangeDuration})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement("div",null,r.a.createElement(G.a,{className:"form-control",selected:this.state.date,onChange:this.onChangeDate}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Edit Exercise Log",className:"btn btn-outline-info rounded-0"}))))}}]),t}(n.Component)),Y=Object(o.f)(J),H=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).onChangeDescription=function(e){a.setState({description:e.target.value})},a.onChangeDuration=function(e){a.setState({duration:e.target.value})},a.onChangeDate=function(e){a.setState({date:e})},a.onSubmit=function(e){e.preventDefault(),O().then(function(e){a.setState({username:e.data.user.username,userId:e.data.user._id});var t={userId:e.data.user._id,username:e.data.user.username,description:a.state.description,duration:a.state.duration,date:a.state.date};S(t).then(function(e){F.a.alert({size:"small",title:e.data,message:a.state.description,callback:function(){a.props.history.push("/list")}})}).catch(function(e){return console.log(e.reponse.data)})})},a.state={userId:"",username:"",description:"",duration:0,date:new Date,loading:!0},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1})},1e3)}},{key:"render",value:function(){return x()&&this.state.loading?r.a.createElement(g,{loading:this.state.loading}):r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4 my-3"},"Create New Exercise"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Duration (in minutes): "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.duration,onChange:this.onChangeDuration})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Date: "),r.a.createElement("div",null,r.a.createElement(G.a,{className:"form-control",selected:this.state.date,onChange:this.onChangeDate}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create Exercise Log",className:"btn btn-outline-success rounded-0"}))))}}]),t}(n.Component),K=Object(o.f)(H),Q=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(P.a)(this,Object(L.a)(t).call(this,e))).state={userId:"",username:"",email:"",loading:!0},a}return Object(M.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;O().then(function(t){e.setState({userId:t.data.user._id,username:t.data.user.username,email:t.data.user.email})}).catch(function(e){return console.log(e.response.data)}),setTimeout(function(){e.setState({loading:!1})},1e3)}},{key:"render",value:function(){return x()&&this.state.loading?r.a.createElement(g,{loading:this.state.loading}):r.a.createElement("div",{className:"jumbotron rounded-0"},r.a.createElement("h1",{className:"display-4 my-3"},"About User"),r.a.createElement("p",{className:"lead"},"Username: ",this.state.username),r.a.createElement("p",{className:"lead"},"E-Mail: ",this.state.email))}}]),t}(n.Component);var V=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(c.a,null,r.a.createElement(B,null),r.a.createElement(o.b,{exact:!0,path:"/",component:D}),r.a.createElement(o.b,{path:"/register",component:U}),r.a.createElement(o.b,{path:"/login",component:z}),r.a.createElement(m,{path:"/list",component:q}),r.a.createElement(m,{path:"/edit/:id",component:Y}),r.a.createElement(m,{path:"/create",component:K}),r.a.createElement(m,{path:"/profile",component:Q})))};l.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.5d457ae6.chunk.js.map